<!doctype html><html lang=zh-CN data-theme=light><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#19b8eb" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.126.1"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="linux学习文件管理5.1"><meta itemprop=description content="1208034077#qq.com"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="http://localhost:1313/imgs/hugo_next_avatar.png"><meta itemprop=keywords content="linux"><meta property="og:type" content="article"><meta property="og:title" content="linux学习文件管理5.1"><meta property="og:description" content="1208034077#qq.com"><meta property="og:image" content="/imgs/hugo_next_avatar.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="http://localhost:1313/post/linux03/"><meta property="og:site_name" content="蓝惠の小窝"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="蓝惠の小窝"><meta property="article:published_time" content="2024-10-17 08:06:00 +0800 CST"><meta property="article:modified_time" content="2024-10-17 08:06:00 +0800 CST"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.css><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":true,"isHome":false,"isPage":true,"path":"linux03","permalink":"http://localhost:1313/post/linux03/","title":"linux学习文件管理5.1","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://hm.baidu.com/hm.js?",e.async="true",document.head.appendChild(e)})</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>linux学习文件管理5.1 - 蓝惠の小窝</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>蓝惠の小窝</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>寻找大波斯菊需要的不是金钱，而是一颗去找寻的心♥.</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-flinks"><a href=/flinks.html class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>友链</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>81</span></a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#常见的文件系统目录功能>常见的文件系统目录功能</a></li></ul><ul><li><a href=#显示当前工作目录>显示当前工作目录</a></li><li><a href=#绝对和相对路径>绝对和相对路径</a><ul><li><a href=#工具>工具</a></li></ul></li><li><a href=#更改目录>更改目录</a></li><li><a href=#列出目录内容>列出目录内容</a><ul><li><a href=#查看文件状态-stat>查看文件状态 stat</a></li><li><a href=#确定文件内容>确定文件内容</a></li></ul></li><li><a href=#文件通配符模式-wildcard-pattern>文件通配符模式 wildcard pattern</a></li><li><a href=#创建空文件和刷新时间>创建空文件和刷新时间</a><ul><li><a href=#复制文件和目录>复制文件和目录</a></li><li><a href=#移动和重命名文件>移动和重命名文件</a></li><li><a href=#删除文件>删除文件</a></li></ul></li><li><a href=#目录操作>目录操作</a><ul><li><a href=#显示目录树-tree>显示目录树 tree</a></li><li><a href=#创建目录-mkdir>创建目录 mkdir</a></li><li><a href=#删除空目录-rmdir>删除空目录 rmdir</a></li></ul></li></ul><ul><li><a href=#inode-表结构>inode 表结构</a><ul><li><a href=#目录>目录</a></li><li><a href=#cp和inode>cp和inode</a></li><li><a href=#rm和inode>rm和inode</a></li><li><a href=#mv和inode>mv和inode</a></li></ul></li><li><a href=#硬hard链接>硬（hard）链接</a></li><li><a href=#符号-symbolic-或软-soft链接>符号 symbolic （或软 soft）链接</a></li><li><a href=#硬链接和软链接区别总结>硬链接和软链接区别总结</a></li><li><a href=#补充linux文件类型颜色详解>补充：Linux文件类型颜色详解</a></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=蓝惠の小窝 src=/imgs/img-lazy-loading.gif data-src=/imgs/hugo_next_avatar.png><p class=site-author-name itemprop=name>蓝惠の小窝</p><div class=site-description itemprop=description>1208034077#qq.com</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>81</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>7</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>55</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/lanhui672 title="Github → https://github.com/lanhui672" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github</a></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title></div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=http://lanhui.live title=http://lanhui.live target=_blank>短域密语</a></li><li class=links-of-blogroll-item><a href=http://lan-hui.com title=http://lan-hui.com target=_blank>引导页</a></li></ul></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate=0001-01-01T00:00:00+00:00></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=161507></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=368></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2024-12-21T04:06:00+08:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=goto-gtranslate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/lanhui672/lanhui672.github.io/wiki rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg>
</a><script type=text/javascript src=//sidecar.gitter.im/dist/sidecar.v1.js async></script><script type=text/javascript>((window.gitter={}).chat={}).options={room:"hugo-next/community"}</script><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=http://localhost:1313/post/linux03/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=name content="蓝惠の小窝"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="蓝惠の小窝"><meta itemprop=description content="1208034077#qq.com"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="linux学习文件管理5.1"><meta itemprop=description content="常见的文件系统目录功能 /boot：引导文件存放目录，内核文件(vmlinuz)、引导加载器(bootloader, grub)都存放于此目录 /"></span><header class=post-header><h1 class=post-title itemprop="name headline">linux学习文件管理5.1</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2024-10-17 08:06:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2024-10-17 08:06:00 +0800 CST">2024-10-17
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/linux itemprop=url rel=index><span itemprop=name>linux</span></a></span></span></div><div class=post-meta-items></div></div><meta name=baidu-site-verification content="codeva-CvrLlzui8a"><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?289d43bfba112a047eccf686e7551557",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></header><div class="post-body autonumber" itemprop=articleBody><h2 id=常见的文件系统目录功能>常见的文件系统目录功能
<a class=header-anchor href=#%e5%b8%b8%e8%a7%81%e7%9a%84%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e7%9b%ae%e5%bd%95%e5%8a%9f%e8%83%bd></a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#f92672>/</span>boot<span style=color:#960050;background-color:#1e0010>：引导文件存放目录，内核文件</span>(vmlinuz)<span style=color:#960050;background-color:#1e0010>、引导加载器</span>(bootloader, grub)<span style=color:#960050;background-color:#1e0010>都存放于此目录</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>bin<span style=color:#960050;background-color:#1e0010>：所有用户使用的基本命令；不能关联至独立分区，</span>OS启动即会用到的程序
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>sbin<span style=color:#960050;background-color:#1e0010>：管理类的基本命令；不能关联至独立分区，</span>OS启动即会用到的程序
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>lib<span style=color:#960050;background-color:#1e0010>：启动时程序依赖的基本共享库文件以及内核模块文件</span>(<span style=color:#f92672>/</span>lib<span style=color:#f92672>/</span>modules)
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>lib64<span style=color:#960050;background-color:#1e0010>：专用于</span>x86_64系统上的辅助共享库文件存放位置
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>etc<span style=color:#960050;background-color:#1e0010>：配置文件目录</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>home<span style=color:#f92672>/</span>USERNAME<span style=color:#960050;background-color:#1e0010>：普通用户家目录</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>root<span style=color:#960050;background-color:#1e0010>：管理员的家目录</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>media<span style=color:#960050;background-color:#1e0010>：便携式移动设备挂载点</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>mnt<span style=color:#960050;background-color:#1e0010>：临时文件系统挂载点</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>dev<span style=color:#960050;background-color:#1e0010>：设备文件及特殊文件存储位置</span>
</span></span><span style=display:flex><span>b: block device<span style=color:#960050;background-color:#1e0010>，随机访问</span>
</span></span><span style=display:flex><span>c: character device<span style=color:#960050;background-color:#1e0010>，线性访问</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>opt<span style=color:#960050;background-color:#1e0010>：第三方应用程序的安装位置</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>srv<span style=color:#960050;background-color:#1e0010>：系统上运行的服务用到的数据</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>tmp<span style=color:#960050;background-color:#1e0010>：临时文件存储位置</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>usr: universal shared, read<span style=color:#f92672>-</span>only data
</span></span><span style=display:flex><span>bin: <span style=color:#960050;background-color:#1e0010>保证系统拥有完整功能而提供的应用程序</span>
</span></span><span style=display:flex><span>sbin:
</span></span><span style=display:flex><span>lib<span style=color:#960050;background-color:#1e0010>：</span><span style=color:#ae81ff>32</span><span style=color:#960050;background-color:#1e0010>位使用</span>
</span></span><span style=display:flex><span>lib64<span style=color:#960050;background-color:#1e0010>：只存在</span><span style=color:#ae81ff>64</span><span style=color:#960050;background-color:#1e0010>位系统</span>
</span></span><span style=display:flex><span>include: C程序的头文件(header files)
</span></span><span style=display:flex><span>share<span style=color:#960050;background-color:#1e0010>：结构化独立的数据，例如</span>doc, man等
</span></span><span style=display:flex><span>local<span style=color:#960050;background-color:#1e0010>：第三方应用程序的安装位置</span>
</span></span><span style=display:flex><span>bin, sbin, lib, lib64, etc, share
</span></span><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#66d9ef>var</span>: variable data files
</span></span><span style=display:flex><span>cache: <span style=color:#960050;background-color:#1e0010>应用程序缓存数据目录</span>
</span></span><span style=display:flex><span>lib: <span style=color:#960050;background-color:#1e0010>应用程序状态信息数据</span>
</span></span><span style=display:flex><span>local<span style=color:#960050;background-color:#1e0010>：专用于为</span><span style=color:#f92672>/</span>usr<span style=color:#f92672>/</span>local下的应用程序存储可变数据
</span></span><span style=display:flex><span>lock: <span style=color:#960050;background-color:#1e0010>锁文件</span>
</span></span><span style=display:flex><span>log: <span style=color:#960050;background-color:#1e0010>日志目录及文件</span>
</span></span><span style=display:flex><span>opt: <span style=color:#960050;background-color:#1e0010>专用于为</span><span style=color:#f92672>/</span>opt下的应用程序存储可变数据
</span></span><span style=display:flex><span>run: <span style=color:#960050;background-color:#1e0010>运行中的进程相关数据</span>,<span style=color:#960050;background-color:#1e0010>通常用于存储进程</span>pid文件
</span></span><span style=display:flex><span>spool: <span style=color:#960050;background-color:#1e0010>应用程序数据池</span>
</span></span><span style=display:flex><span>tmp: <span style=color:#960050;background-color:#1e0010>保存系统两次重启之间产生的临时数据</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>proc: <span style=color:#960050;background-color:#1e0010>用于输出内核与进程信息相关的虚拟文件系统</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>sys<span style=color:#960050;background-color:#1e0010>：用于输出当前系统上硬件设备相关信息虚拟文件系统</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span>selinux: security enhanced Linux<span style=color:#960050;background-color:#1e0010>，</span>selinux相关的安全策略等信息的存储位置
</span></span></code></pre></div><p>应用程序的组成部分</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>二进制程序：/bin, /sbin, /usr/bin, /usr/sbin, /usr/local/bin, /usr/local/sbin
</span></span><span style=display:flex><span>库文件：/lib, /lib64, /usr/lib, /usr/lib64, /usr/local/lib, /usr/local/lib64
</span></span><span style=display:flex><span>配置文件：/etc, /etc/DIRECTORY, /usr/local/etc
</span></span><span style=display:flex><span>帮助文件：/usr/share/man, /usr/share/doc, /usr/local/share/man,
</span></span><span style=display:flex><span>/usr/local/share/doc
</span></span></code></pre></div><p><img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux02/01.png alt="RUNOOB 图标">
<img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux02/02.png alt="RUNOOB 图标"></p><h1 id=linux下的文件类型>Linux下的文件类型
<a class=header-anchor href=#linux%e4%b8%8b%e7%9a%84%e6%96%87%e4%bb%b6%e7%b1%bb%e5%9e%8b></a></h1><p>七种文件类型</p><ul><li>-普通文件</li><li>d 目录文件directory</li><li>l 符号链接文件link</li><li>b 块设备block</li><li>c 字符设备character</li><li>p 管道文件pipe</li><li>s 套接字文件socket</li></ul><h1 id=文件操作命令>文件操作命令
<a class=header-anchor href=#%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c%e5%91%bd%e4%bb%a4></a></h1><h2 id=显示当前工作目录>显示当前工作目录
<a class=header-anchor href=#%e6%98%be%e7%a4%ba%e5%bd%93%e5%89%8d%e5%b7%a5%e4%bd%9c%e7%9b%ae%e5%bd%95></a></h2><p>pwd命令: printing working directory</p><ul><li>-P 显示真实物理路径
*-L 显示链接路径（默认）
范例：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 ~]#pwd
</span></span><span style=display:flex><span>/root
</span></span></code></pre></div><h2 id=绝对和相对路径>绝对和相对路径
<a class=header-anchor href=#%e7%bb%9d%e5%af%b9%e5%92%8c%e7%9b%b8%e5%af%b9%e8%b7%af%e5%be%84></a></h2><ul><li>绝对路径
以正斜杠/ 即根目录开始
完整的文件的位置路径
可用于任何想指定一个文件名的时候</li><li>相对路径名
不以斜线开始
一般情况下，是指相对于当前工作目录的路径，特殊场景下，是相对于某目录的位置
可以作为一个简短的形式指定一个文件<br>../ 从上一级开始<br>./ 当前路径</li></ul><h3 id=工具>工具
<a class=header-anchor href=#%e5%b7%a5%e5%85%b7></a></h3><p>基名：basename，只取文件名而不要路径<br>目录名：dirname，只取路径，不要文件名<br>范例:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 bin]#basename /etc/sysconfig/network
</span></span><span style=display:flex><span>network
</span></span><span style=display:flex><span>[root@centos8 bin]#dirname /etc/sysconfig/network
</span></span><span style=display:flex><span>/etc/sysconfig
</span></span><span style=display:flex><span>[root@centos8 ~]#dirname /etc/sysconfig/network-scripts/ifcfg-eth0
</span></span><span style=display:flex><span>/etc/sysconfig/network-scripts
</span></span><span style=display:flex><span>[root@centos8 ~]#basename /etc/sysconfig/network-scripts/ifcfg-eth0
</span></span><span style=display:flex><span>ifcfg-eth0
</span></span></code></pre></div><p>范例:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>ubuntu2004 <span style=color:#f92672>~</span>]<span style=color:#75715e>#basename http://nginx.org/download/nginx-1.18.0.tar.gz</span>
</span></span><span style=display:flex><span>nginx<span style=color:#f92672>-</span><span style=color:#ae81ff>1.18</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.</span>tar<span style=color:#f92672>.</span>gz
</span></span><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>ubuntu2004 <span style=color:#f92672>~</span>]<span style=color:#75715e>#basename http://nginx.org/download/nginx-1.18.0.tar.gz</span>
</span></span><span style=display:flex><span><span style=color:#f92672>.</span>tar<span style=color:#f92672>.</span>gz
</span></span><span style=display:flex><span>nginx<span style=color:#f92672>-</span><span style=color:#ae81ff>1.18</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>ubuntu2004 <span style=color:#f92672>~</span>]<span style=color:#75715e>#basename -s .tar.gz http://nginx.org/download/nginx-</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1.18</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.</span>tar<span style=color:#f92672>.</span>gz
</span></span><span style=display:flex><span>nginx<span style=color:#f92672>-</span><span style=color:#ae81ff>1.18</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>ubuntu2004 <span style=color:#f92672>~</span>]<span style=color:#75715e>#url=http://nginx.org/download/nginx-1.18.0.tar.gz</span>
</span></span><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>ubuntu2004 <span style=color:#f92672>~</span>]<span style=color:#75715e>#echo $url</span>
</span></span><span style=display:flex><span>http:<span style=color:#f92672>//</span>nginx<span style=color:#f92672>.</span>org<span style=color:#f92672>/</span>download<span style=color:#f92672>/</span>nginx<span style=color:#f92672>-</span><span style=color:#ae81ff>1.18</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.</span>tar<span style=color:#f92672>.</span>gz
</span></span><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>ubuntu2004 <span style=color:#f92672>~</span>]<span style=color:#75715e>#basename $url</span>
</span></span><span style=display:flex><span>nginx<span style=color:#f92672>-</span><span style=color:#ae81ff>1.18</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.</span>tar<span style=color:#f92672>.</span>gz
</span></span></code></pre></div><h2 id=更改目录>更改目录
<a class=header-anchor href=#%e6%9b%b4%e6%94%b9%e7%9b%ae%e5%bd%95></a></h2><p>命令 cd ： change directory 改变目录<br>选项：-P 切换至物理路径，而非软链接目录<br>可以使用绝对或相对路径</p><ul><li>切换至父目录： cd ..</li><li>切换至当前用户主目录： cd</li><li>切换至以前的工作目录： cd -</li></ul><p>范例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 ~]#cd /etc/sysconfig
</span></span><span style=display:flex><span>[root@centos8 sysconfig]#pwd
</span></span><span style=display:flex><span>/etc/sysconfig
</span></span><span style=display:flex><span>[root@centos8 sysconfig]#cd ../../data
</span></span><span style=display:flex><span>[root@centos8 data]#pwd
</span></span><span style=display:flex><span>/data
</span></span><span style=display:flex><span>[root@centos8 data]#cd /bin
</span></span><span style=display:flex><span>[root@centos8 bin]#pwd
</span></span><span style=display:flex><span>/bin
</span></span><span style=display:flex><span>[root@centos8 bin]#cd -P /bin
</span></span><span style=display:flex><span>[root@centos8 bin]#pwd
</span></span><span style=display:flex><span>/usr/bin
</span></span></code></pre></div><p>ls -a 显示隐藏<br>ls -Sa -l 显示隐藏并大小排序<br>ls -Sa -lr 同上，从小到大排序</p><h2 id=列出目录内容>列出目录内容
<a class=header-anchor href=#%e5%88%97%e5%87%ba%e7%9b%ae%e5%bd%95%e5%86%85%e5%ae%b9></a></h2><p>ls 命令可以列出当前目录的内容或指定目录<br>用法： ls [options] [files_or_dirs]</p><p>常见选项：</p><ul><li>-a 包含隐藏文件</li><li>-l 显示额外的信息</li><li>-R 目录递归</li><li>-ld 目录和符号链接信息</li><li>-1 文件分行显示</li><li>-S 按从大到小排序</li><li>-t 按mtime排序</li><li>-u 配合-t选项，显示并按atime从新到旧排序</li><li>-U 按目录存放顺序显示</li><li>-X 按文件后缀排序</li><li>-F 对不同类型文件显示时附加不同的符号：*/=>@|</li><li>-C 文件多时，以多列的方式显示文件，默认是一列（标准输出）</li></ul><h3 id=查看文件状态-stat>查看文件状态 stat
<a class=header-anchor href=#%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e7%8a%b6%e6%80%81-stat></a></h3><p>文件相关信息：metadata, data<br>每个文件有三个时间戳：</p><ul><li>access time 访问时间，atime，读取文件内容</li><li>modify time 修改时间，mtime，改变文件内容（数据）</li><li>change time 改变时间，ctime，元数据发生改变</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 ~]#stat /etc/passwd
</span></span><span style=display:flex><span>File: /etc/passwd
</span></span><span style=display:flex><span>Size: 1306 Blocks: 8 IO Block: 4096 regular file
</span></span><span style=display:flex><span>Device: 802h/2050d Inode: 134792556 Links: 1
</span></span><span style=display:flex><span>Access: (0644/-rw-r--r--) Uid: ( 0/ root) Gid: ( 0/ root)
</span></span><span style=display:flex><span>Access: 2019-12-09 20:37:12.830991350 +0800
</span></span><span style=display:flex><span>Modify: 2019-12-09 20:37:12.826991351 +0800
</span></span><span style=display:flex><span>Change: 2019-12-09 20:37:12.826991351 +0800
</span></span><span style=display:flex><span>Birth: -
</span></span></code></pre></div><h3 id=确定文件内容>确定文件内容
<a class=header-anchor href=#%e7%a1%ae%e5%ae%9a%e6%96%87%e4%bb%b6%e5%86%85%e5%ae%b9></a></h3><p>文件可以包含多种类型的数据，使用file命令检查文件的类型，然后确定适当的打开命令或应用程序使
用<br>格式：
file [options ] &lt; filename>&mldr;</p><p>常用选项:</p><ul><li>-b 列出文件辨识结果时，不显示文件名称</li><li>-f filelist 列出文件filelist中文件名的文件类型</li><li>-F 使用指定分隔符号替换输出文件名后默认的”:”分隔符</li><li>-L 查看对应软链接对应文件的文件类型</li><li>&ndash;help 显示命令在线帮助</li></ul><p>范例：windows的文本格式和Linux的文本格式的区别</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 data]#cat linux.txt
</span></span><span style=display:flex><span>a
</span></span><span style=display:flex><span>b
</span></span><span style=display:flex><span>c
</span></span><span style=display:flex><span>[root@centos8 data]#cat win.txt
</span></span><span style=display:flex><span>a
</span></span><span style=display:flex><span>b
</span></span><span style=display:flex><span>c[root@centos8 data]#file win.txt linux.txt
</span></span><span style=display:flex><span>win.txt: ASCII text, with CRLF line terminators
</span></span><span style=display:flex><span>linux.txt: ASCII text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@centos8 data]#hexdump -C linux.txt
</span></span><span style=display:flex><span>00000000 61 0a 62 0a 63 0a |a.b.c.|
</span></span><span style=display:flex><span>00000006
</span></span><span style=display:flex><span>[root@centos8 data]#hexdump -C win.txt
</span></span><span style=display:flex><span>00000000 61 0d 0a 62 0d 0a 63 |a..b..c|
</span></span><span style=display:flex><span>00000007
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#安装转换工具
</span></span><span style=display:flex><span>[root@centos8 data]#dnf -y install dos2unix
</span></span><span style=display:flex><span>#将Windows的文本格式转换成的Linux文本格式
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@centos8 data]#dos2unix win.txt
</span></span><span style=display:flex><span>dos2unix: converting file win.txt to Unix format...
</span></span><span style=display:flex><span>[root@centos8 data]#file win.txt
</span></span><span style=display:flex><span>win.txt: ASCII text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#将Linux的文本格式转换成Windows的文本格式
</span></span><span style=display:flex><span>[root@centos8 data]#unix2dos win.txt
</span></span><span style=display:flex><span>unix2dos: converting file win.txt to DOS format...
</span></span><span style=display:flex><span>[root@centos8 data]#file win.txt
</span></span><span style=display:flex><span>win.txt: ASCII text, with CRLF line terminators
</span></span></code></pre></div><p>范例：转换文件字符集编码</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>#显示支持字符集编码列表
</span></span><span style=display:flex><span>[root@centos8 ~]#iconv -l
</span></span><span style=display:flex><span>#windows7上文本默认的编码ANSI（GB2312）
</span></span><span style=display:flex><span>[root@centos8 data]#file windows.txt
</span></span><span style=display:flex><span>windows.txt: ISO-8859 text, with no line terminators
</span></span><span style=display:flex><span>[root@centos8 data]#echo $LANG
</span></span><span style=display:flex><span>en_US.UTF-8
</span></span><span style=display:flex><span>#默认在linux无法正常显示文本内容
</span></span><span style=display:flex><span>[root@centos8 data]#cat windows.txt
</span></span><span style=display:flex><span>▒▒▒▒▒▒[root@centos8 data]#
</span></span><span style=display:flex><span>#将windows7上文本默认的编码ANSI（GB2312）转换成UTF-8
</span></span><span style=display:flex><span>[root@centos8 data]#iconv -f gb2312 windows.txt -o windows1.txt
</span></span><span style=display:flex><span>[root@centos8 data]#cat windows1.txt
</span></span><span style=display:flex><span>马哥教育[root@centos8 data]#ll windows1.txt
</span></span><span style=display:flex><span>-rw-r--r-- 1 root root 12 Mar 23 10:13 windows1.txt
</span></span><span style=display:flex><span>[root@centos8 data]#file windows1.txt
</span></span><span style=display:flex><span>windows1.txt: UTF-8 Unicode text, with no line terminators
</span></span><span style=display:flex><span>#将UTF-8转换成windows10上文本默认的编码ANSI（GB2312）
</span></span><span style=display:flex><span>[root@centos8 data]#iconv -f utf8 -t gb2312 windows1.txt -o windows2.txt
</span></span><span style=display:flex><span>[root@centos8 data]#file windows2.txt
</span></span><span style=display:flex><span>windows2.txt: ISO-8859 text, with no line terminators
</span></span></code></pre></div><p>范例:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[15:34:50 root@centos8 ~]#file linux.txt
</span></span><span style=display:flex><span>linux.txt: ASCII text
</span></span><span style=display:flex><span>[15:34:31 root@centos8 ~]#file windows.txt
</span></span><span style=display:flex><span>windows.txt: ASCII text, with CRLF line terminators
</span></span><span style=display:flex><span>#将windows的文本格式转换成Linux的文本格式
</span></span><span style=display:flex><span>[15:35:26 root@centos8 ~]#dos2unix windows.txt
</span></span><span style=display:flex><span>dos2unix: converting file windows.txt to Unix format...
</span></span><span style=display:flex><span>[15:36:00 root@centos8 ~]#file windows.txt
</span></span><span style=display:flex><span>windows.txt: ASCII tex
</span></span></code></pre></div><h2 id=文件通配符模式-wildcard-pattern>文件通配符模式 wildcard pattern
<a class=header-anchor href=#%e6%96%87%e4%bb%b6%e9%80%9a%e9%85%8d%e7%ac%a6%e6%a8%a1%e5%bc%8f-wildcard-pattern></a></h2><p>文件通配符可以用来匹配符合条件的多个文件，方便批量管理文件
通配符采有特定的符号，表示特定的含义，此特符号称为元 meta 字符
常见的通配符如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>* 匹配零个或多个字符，但不匹配 &#34;.&#34; 开头的文件，即隐藏文件.
</span></span><span style=display:flex><span>? 匹配任何单个字符,一个汉字也算一个字符
</span></span><span style=display:flex><span>~ 当前用户家目录
</span></span><span style=display:flex><span>~mage 用户mage家目录
</span></span><span style=display:flex><span>[0-9] 匹配数字范围
</span></span><span style=display:flex><span>[a-z] 一个字母
</span></span><span style=display:flex><span>[A-Z] 一个字母
</span></span><span style=display:flex><span>[wang] 匹配列表中的任何的一个字符.
</span></span><span style=display:flex><span>[^wang] 匹配列表中的所有字符以外的字符.
</span></span><span style=display:flex><span>[^a-z] 匹配列表中的所有字符以外的字符
</span></span><span style=display:flex><span>. 和 ~+ 当前工作目录
</span></span><span style=display:flex><span>~- 前一个工作目录
</span></span></code></pre></div><p>另外还有在Linux系统中预定义的字符类表示法如下：man 7 glo</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[:digit:]：任意数字，相当于0-9
</span></span><span style=display:flex><span>[:lower:]：任意小写字母,表示 a-z
</span></span><span style=display:flex><span>[:upper:]: 任意大写字母,表示 A-Z
</span></span><span style=display:flex><span>[:alpha:]: 任意大小写字母
</span></span><span style=display:flex><span>[:alnum:]：任意数字或字母
</span></span><span style=display:flex><span>[:blank:]：水平空白字符
</span></span><span style=display:flex><span>[:space:]：水平或垂直空白字符
</span></span><span style=display:flex><span>[:punct:]：标点符号
</span></span><span style=display:flex><span>[:print:]：可打印字符
</span></span><span style=display:flex><span>[:cntrl:]：控制（非打印）字符
</span></span><span style=display:flex><span>[:graph:]：图形字符
</span></span><span style=display:flex><span>[:xdigit:]：十六进制字符
</span></span></code></pre></div><p>范例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 wang]#echo $OLDPWD
</span></span><span style=display:flex><span>/data
</span></span><span style=display:flex><span>[root@centos8 wang]#ll -/linux.txt
</span></span><span style=display:flex><span>ls: invalid option -- &#39;/&#39;
</span></span><span style=display:flex><span>Try &#39;ls --help&#39; for more information.
</span></span><span style=display:flex><span>[root@centos8 wang]#ll ~-/linux.txt
</span></span><span style=display:flex><span>-rw-r--r-- 1 root root 6 Mar 23 09:48 /data/linux.txt
</span></span></code></pre></div><h2 id=创建空文件和刷新时间>创建空文件和刷新时间
<a class=header-anchor href=#%e5%88%9b%e5%bb%ba%e7%a9%ba%e6%96%87%e4%bb%b6%e5%92%8c%e5%88%b7%e6%96%b0%e6%97%b6%e9%97%b4></a></h2><p>touch命令可以用来创建空文件或刷新文件的时间<br>格式：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>touch [OPTION]... FILE
</span></span></code></pre></div><ul><li>-a 仅改变 atime和ctime</li><li>-m 仅改变 mtime和ctime</li><li>-t [[CC]YY]MMDDhhmm[.ss] 指定atime和mtime的时间戳</li><li>-c 如果文件不存在，则不予创建</li></ul><p>范例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@ubuntu2004 snap]#stat 123.txt
</span></span><span style=display:flex><span>  File: 123.txt
</span></span><span style=display:flex><span>  Size: 0               Blocks: 0          IO Block: 4096   regular empty file
</span></span><span style=display:flex><span>Device: fd00h/64768d    Inode: 2490387     Links: 1
</span></span><span style=display:flex><span>Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
</span></span><span style=display:flex><span>Access: 2020-08-09 10:10:55.000000000 +0800
</span></span><span style=display:flex><span>Modify: 2020-08-09 10:10:55.000000000 +0800
</span></span><span style=display:flex><span>Change: 2024-10-22 22:35:29.388924351 +0800
</span></span><span style=display:flex><span> Birth: -
</span></span><span style=display:flex><span>[root@ubuntu2004 snap]#touch -a 123.txt
</span></span><span style=display:flex><span>[root@ubuntu2004 snap]#stat 123.txt
</span></span><span style=display:flex><span>  File: 123.txt
</span></span><span style=display:flex><span>  Size: 0               Blocks: 0          IO Block: 4096   regular empty file
</span></span><span style=display:flex><span>Device: fd00h/64768d    Inode: 2490387     Links: 1
</span></span><span style=display:flex><span>Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
</span></span><span style=display:flex><span>Access: 2024-10-22 22:36:11.765514662 +0800
</span></span><span style=display:flex><span>Modify: 2020-08-09 10:10:55.000000000 +0800
</span></span><span style=display:flex><span>Change: 2024-10-22 22:36:11.765514662 +0800
</span></span><span style=display:flex><span> Birth: -
</span></span><span style=display:flex><span>[root@ubuntu2004 snap]#touch -m 123.txt
</span></span><span style=display:flex><span>[root@ubuntu2004 snap]#stat 123.txt
</span></span><span style=display:flex><span>  File: 123.txt
</span></span><span style=display:flex><span>  Size: 0               Blocks: 0          IO Block: 4096   regular empty file
</span></span><span style=display:flex><span>Device: fd00h/64768d    Inode: 2490387     Links: 1
</span></span><span style=display:flex><span>Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
</span></span><span style=display:flex><span>Access: 2024-10-22 22:36:11.765514662 +0800
</span></span><span style=display:flex><span>Modify: 2024-10-22 22:37:07.050290872 +0800
</span></span><span style=display:flex><span>Change: 2024-10-22 22:37:07.050290872 +0800
</span></span><span style=display:flex><span> Birth: -
</span></span><span style=display:flex><span>[root@ubuntu2004 snap]#touch -t 202109010800.00 --time=atime --time=mtime 123.txt
</span></span><span style=display:flex><span>[root@ubuntu2004 snap]#stat 123.txt
</span></span><span style=display:flex><span>  File: 123.txt
</span></span><span style=display:flex><span>  Size: 0               Blocks: 0          IO Block: 4096   regular empty file
</span></span><span style=display:flex><span>Device: fd00h/64768d    Inode: 2490387     Links: 1
</span></span><span style=display:flex><span>Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
</span></span><span style=display:flex><span>Access: 2021-09-01 08:00:00.000000000 +0800
</span></span><span style=display:flex><span>Modify: 2021-09-01 08:00:00.000000000 +0800
</span></span><span style=display:flex><span>Change: 2024-10-22 22:38:59.847893212 +0800
</span></span><span style=display:flex><span> Birth: -
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 data]#date
</span></span><span style=display:flex><span>Fri Dec 13 16:11:55 CST 2019
</span></span><span style=display:flex><span>[root@centos8 data]#touch `date -d &#34;-1 day&#34; +%F_%T`.log
</span></span><span style=display:flex><span>[root@centos8 data]#ls
</span></span><span style=display:flex><span>2019-12-12_16:11:48.log
</span></span><span style=display:flex><span>[root@centos8 data]#touch $(date -d &#34;1 year&#34; +%F_%T).log
</span></span><span style=display:flex><span>[root@centos8 data]#ls
</span></span><span style=display:flex><span>2019-12-12_16:11:48.log 2020-12-13_16:13:11.log
</span></span></code></pre></div><h3 id=复制文件和目录>复制文件和目录
<a class=header-anchor href=#%e5%a4%8d%e5%88%b6%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95></a></h3><p>利用 cp（copy）命令可以实现文件或目录的复制<br>格式：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>cp [OPTION]... [-T] SOURCE DEST
</span></span><span style=display:flex><span>cp [OPTION]... SOURCE... DIRECTORY
</span></span><span style=display:flex><span>cp [OPTION]... -t DIRECTORY SOURCE..
</span></span></code></pre></div><p>常用选项</p><ul><li>-i 在复制前提示确认，如果目标文件已存在，则会询问是否覆盖，回答 y 时目标文件将被覆盖</li><li>-l：不复制文件，只是生成链接文件。</li><li>-n 不覆盖，注意两者顺序</li><li>-r, -R 递归复制目录及内部的所有内容/用于复制目录及其所有的子目录和文件，如果要复制目录，需要使用该选项。</li><li>-a 归档，相当于-dR &ndash;preserv=all，常用于备份功能(保留文件的属性)。此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。其作用等于 dpR 参数组合。</li><li>-d &ndash;no-dereference &ndash;preserv=links 不复制原文件，只复制链接名</li><li>&ndash;preserv[=ATTR_LIST</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>mode: 权限
</span></span><span style=display:flex><span>ownership: 属主属组
</span></span><span style=display:flex><span>timestamp:
</span></span><span style=display:flex><span>links
</span></span><span style=display:flex><span>xattr
</span></span><span style=display:flex><span>context
</span></span><span style=display:flex><span>all
</span></span></code></pre></div><ul><li>-p 等同&ndash;preserv=mode,ownership,timestamp保留源文件的权限、所有者和时间戳信息。</li><li>-v &ndash;verbose 显示详细的复制过程。</li><li>-f &ndash;force 强制复制，即使目标文件已存在也会覆盖，而且不给出提示。</li><li>-u &ndash;update 只复制源比目标更新文件或目标不存在的文件</li><li>-b 目标存在，覆盖前先备份，默认形式为 filename~ ,只保留最近的一个备份</li><li>&ndash;backup=numbered 目标存在，覆盖前先备份加数字后缀，形式为 filename.~#~ ，可以保留多个版本.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>cp /root/test/b.txt{,.bak} =cp /root/test/b.txt /root/test/b.txt.bak
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@rocky ~]# alias cp
</span></span><span style=display:flex><span>alias cp=&#39;cp -i&#39;
</span></span><span style=display:flex><span>使用\  屏蔽cp别名，使用cp原来命令。
</span></span></code></pre></div><p><strong>练习</strong><br>1、每天将/etc/目录下所有文件，备份到/data独立的子目录下，并要求子目录格式为 backupYYYY-
mm-dd，备份过程可见</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 ~]#cp -av /etc/ /data/backup`date +%F`
</span></span><span style=display:flex><span>[root@centos8 ~]#cp -av /etc/ /data/etc-`date +%F_%H-%M-%S`
</span></span></code></pre></div><p>2、创建/data/rootdir目录，并复制/root下所有文件到该目录内，要求保留原有权</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 ~]#cp -a /root /data/rootdir
</span></span></code></pre></div><h3 id=移动和重命名文件>移动和重命名文件
<a class=header-anchor href=#%e7%a7%bb%e5%8a%a8%e5%92%8c%e9%87%8d%e5%91%bd%e5%90%8d%e6%96%87%e4%bb%b6></a></h3><ul><li>mv 命令可以实现文件或目录的移动和改名</li><li>同一分区移动数据,速度很快:数据位置没有变化</li><li>不同分区移动数据,速度相对慢:数据位置发生了变化
格式</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>mv [OPTION]... [-T] SOURCE DEST
</span></span><span style=display:flex><span>mv [OPTION]... SOURCE... DIRECTORY
</span></span><span style=display:flex><span>mv [OPTION]... -t DIRECTORY SOURCE...
</span></span></code></pre></div><p>常用选项：</p><ul><li>-i 交互式</li><li>-f 强制删除</li><li>-r 递归</li><li>-b 目标存在，覆盖前先备份
利用 rename 可以批量修改文件名</li></ul><p>格式：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>rename [options] &lt;expression&gt; &lt;replacement&gt; &lt;file&gt;...
</span></span></code></pre></div><p>范例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>#为所有的f开头包含conf的文件加上.bak后缀：
</span></span><span style=display:flex><span>rename &#39;conf&#39; &#39;conf.bak&#39; f*
</span></span><span style=display:flex><span>#去掉所有的bak后缀：
</span></span><span style=display:flex><span>rename &#39;.bak&#39; &#39;&#39; *.bak
</span></span><span style=display:flex><span># 所有.txt后缀更改为txt.orig
</span></span><span style=display:flex><span>rename txt txt.orig *.txt
</span></span><span style=display:flex><span>#还原
</span></span><span style=display:flex><span>rename txt.orig.txt *.txt.orig
</span></span></code></pre></div><h3 id=删除文件>删除文件
<a class=header-anchor href=#%e5%88%a0%e9%99%a4%e6%96%87%e4%bb%b6></a></h3><p>使用 rm 命令可以删除文件和目录<br>注意：此命令非常危险，慎重使用，建议使用 mv 代替 rm<br>格式：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>rm [OPTION]... FILE..
</span></span></code></pre></div><p>常用选项：</p><ul><li>-i 交互式</li><li>-f 强制删除</li><li>-r 递归</li><li>&ndash;no-preserve-root 删除<br>范例：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>root@centos8 ~]#rm -rf /
</span></span><span style=display:flex><span>rm: it is dangerous to operate recursively on &#39;/&#39;
</span></span><span style=display:flex><span>rm: use --no-preserve-root to override this failsafe
</span></span><span style=display:flex><span>#思考删除/ 文件,如何验证
</span></span><span style=display:flex><span>[root@centos8 ~]#rm -rf /*
</span></span><span style=display:flex><span>[root@centos8 ~]#/2TAB
</span></span><span style=display:flex><span>[root@centos8 ~]#echo *
</span></span></code></pre></div><p>范例： rm 别名</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 ~]#alias rm=&#34;echo 请使用mv&#34;
</span></span></code></pre></div><p>范例：删除特殊文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>#将名为 “/data/-f” 的文件删除
</span></span><span style=display:flex><span>[root@centos8 data]#rm -f -f #此方式错误
</span></span><span style=display:flex><span>[root@centos8 data]#rm -- -f
</span></span><span style=display:flex><span>[root@centos8 data]#rm ./-f
</span></span><span style=display:flex><span>[root@centos8 data]#rm /data/-f
</span></span><span style=display:flex><span>[root@centos8 data]#touch &#39;~&#39;
</span></span><span style=display:flex><span>[root@centos8 data]#ls
</span></span><span style=display:flex><span>&#39;~&#39;
</span></span><span style=display:flex><span>[root@centos8 data]#rm -f ~
</span></span><span style=display:flex><span>rm: cannot remove &#39;/root&#39;: Is a directory
</span></span><span style=display:flex><span>[root@centos8 data]#rm -- ~
</span></span><span style=display:flex><span>rm: cannot remove &#39;/root&#39;: Is a directory
</span></span><span style=display:flex><span>[root@centos8 data]#rm -f ./~
</span></span></code></pre></div><p>rm 虽然删除了文件，但是被删除的文件仍然可能被恢复，在安全要求较高的场景下，可以使用shred安
全删除文件</p><h2 id=目录操作>目录操作
<a class=header-anchor href=#%e7%9b%ae%e5%bd%95%e6%93%8d%e4%bd%9c></a></h2><h3 id=显示目录树-tree>显示目录树 tree
<a class=header-anchor href=#%e6%98%be%e7%a4%ba%e7%9b%ae%e5%bd%95%e6%a0%91-tree></a></h3><p>常见选项：</p><ul><li>-d: 只显示目录</li><li>-L level：指定显示的层级数目</li><li>-P pattern: 只显示由指定wild-card pattern匹配到的路径</li></ul><h3 id=创建目录-mkdir>创建目录 mkdir
<a class=header-anchor href=#%e5%88%9b%e5%bb%ba%e7%9b%ae%e5%bd%95-mkdir></a></h3><p>常见选项：</p><ul><li>-p: 存在于不报错，且可自动创建所需的各目录</li><li>-v: 显示详细信息</li><li>-m MODE: 创建目录时直接指定权限</li></ul><h3 id=删除空目录-rmdir>删除空目录 rmdir
<a class=header-anchor href=#%e5%88%a0%e9%99%a4%e7%a9%ba%e7%9b%ae%e5%bd%95-rmdir></a></h3><p>常见选项：</p><ul><li>-p 递归删除父空目录</li><li>-v 显示详细信息</li></ul><p>注意：rmdir只能删除空目录，如果想删除非空目录，可以使用rm -r 命令，递归删除目录树
范例:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>alias rm=&#39;DIR=/data/backup`date +%F%T`;mkdir $DIR;mv -t $DIR
</span></span></code></pre></div><p>创建backup<code>date +%F%T</code>零时文件夹，将删除的文件移动到此处。<br><strong>练习</strong></p><p>(1) 如何创建/testdir/dir1/x, /testdir/dir1/y, /testdir/dir1/x/a, /testdir/dir1/x/b, /testdir/dir1/y/a,
/testdir/dir1/y/b</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>rocky <span style=color:#f92672>/</span>]<span style=color:#75715e>#mkdir -p testdir/dir1/x/a testdir/dir1/x/b testdir/dir1/y/a testdir/dir1/y/b</span>
</span></span><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>rocky <span style=color:#f92672>/</span>]<span style=color:#75715e>#ls</span>
</span></span><span style=display:flex><span>afs  bin  boot  data  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  testdir  tmp  usr  <span style=color:#66d9ef>var</span>
</span></span><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>rocky <span style=color:#f92672>/</span>]<span style=color:#75715e>#cd testdir/</span>
</span></span><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>rocky testdir]<span style=color:#75715e>#tree</span>
</span></span><span style=display:flex><span><span style=color:#f92672>.</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>└──</span> dir1
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>├──</span> x
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> a
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> b
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>└──</span> y
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>├──</span> a
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>└──</span> b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>7</span> directories, <span style=color:#ae81ff>0</span> files
</span></span></code></pre></div><p>(2) 如何创建/testdir/dir2/x, /testdir/dir2/y, /testdir/dir2/x/a, /testdir/dir2/x/b</p><p>(3) 如何创建/testdir/dir3, /testdir/dir4, /testdir/dir5, /testdir/dir5/dir6, /testdir/dir5/dir7</p><h1 id=文件元数据和节点表结构>文件元数据和节点表结构
<a class=header-anchor href=#%e6%96%87%e4%bb%b6%e5%85%83%e6%95%b0%e6%8d%ae%e5%92%8c%e8%8a%82%e7%82%b9%e8%a1%a8%e7%bb%93%e6%9e%84></a></h1><h2 id=inode-表结构>inode 表结构
<a class=header-anchor href=#inode-%e8%a1%a8%e7%bb%93%e6%9e%84></a></h2><p>每个文件的属性信息，比如：文件的大小，时间，类型等，称为文件的元数据(meta data)。这此元数
据是存放在inode（index node）表中。inode 表中有很多条记录组成，第一条记录对应的存放了一个
文件的元数据信息<br>每一个inode表记录对应的保存了以下信息：</p><ul><li>inode number 节点号</li><li>文件类型</li><li>权限</li><li>UID</li><li>GID</li><li>链接数（指向这个文件名路径名称个数）</li><li>该文件的大小和不同的时间戳</li><li>指向磁盘上文件的数据块指针</li><li>有关文件的其他数据</li></ul><p>(1)前12个直接指针，直接指向存储的数据区域kBlocks大小为4096，则前12个直接指针就可以保存48KB文件。<br>(2)一级指针可存储文件大小计算假设每个指针占用4个字节，则一经指针指向的Block可保存40964个指针。可指两1024个Block5。一级指针可存储文件数据大小为1024<em>4096
4MB.<br>(3)二级指针可存储文件大小计算同样按照Blocks大小为4096，则二级指针可保存的Block指针数量为(4096/4)</em>(409614)=1024<em>1024；则二级指行可保存的文件数量大小为(1024</em>1024)&ldquo;4096=4GB.<br>(4)三级指针可存储文件大小计算以一级、二级指针计算方法类推，三根指针可存储的文伴数据大小为(1024<em>1024</em>1024)*4096 =4TB.</p><h3 id=目录>目录
<a class=header-anchor href=#%e7%9b%ae%e5%bd%95></a></h3><p>目录是个特殊文件，目录文件的内容保存了此目录中文件的列表及inode number对应关系</p><ul><li>文件引用一个是 inode号</li><li>人是通过文件名来引用一个文件</li><li>一个目录是目录下的文件名和文件inode号之间的映射</li></ul><h3 id=cp和inode>cp和inode
<a class=header-anchor href=#cp%e5%92%8cinode></a></h3><p>cp 命令：</p><ul><li>分配一个空闲的inode号，在inode表中生成新条目</li><li>在目录中创建一个目录项，将名称与inode编号关联</li><li>拷贝数据生成新的文件</li></ul><h3 id=rm和inode>rm和inode
<a class=header-anchor href=#rm%e5%92%8cinode></a></h3><p>rm 命令：</p><ul><li>链接数递减，从而释放的inode号可以被重用</li><li>把数据块放在空闲列表中</li><li>删除目录项</li><li>数据实际上不会马上被删除，但当另一个文件使用数据块时将被覆盖</li></ul><h3 id=mv和inode>mv和inode
<a class=header-anchor href=#mv%e5%92%8cinode></a></h3><ul><li>如果mv命令的目标和源在相同的文件系统，作为mv 命令</li></ul><p>用新的文件名创建对应新的目录项</p><p>删除旧目录条目对应的旧的文件名</p><ul><li>不影响inode表（除时间戳）或磁盘上的数据位置：没有数据被移动！
如果目标和源在一个不同的文件系统， mv相当于cp和rm</li></ul><p>范例:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@centos8 ~]#df -i /boot
</span></span><span style=display:flex><span>Filesystem Inodes IUsed IFree IUse% Mounted on
</span></span><span style=display:flex><span>/dev/sda1 65536 310 65226 1% /boot
</span></span><span style=display:flex><span>[root@centos8 ~]#mkdir /boot/test
</span></span><span style=display:flex><span>[root@centos8 ~]#touch /boot/test/file{1..65226}
</span></span><span style=display:flex><span>[root@centos8 ~]#touch /boot/test/new.txt
</span></span><span style=display:flex><span>touch: cannot touch &#39;new.txt&#39;: No space left on device
</span></span><span style=display:flex><span>[root@centos8 ~]#df /boot
</span></span><span style=display:flex><span>Filesystem 1K-blocks Used Available Use% Mounted on
</span></span><span style=display:flex><span>/dev/sda1 999320 133800 796708 15% /boot
</span></span><span style=display:flex><span>[root@centos8 ~]#df -i /boot
</span></span><span style=display:flex><span>Filesystem Inodes IUsed IFree IUse% Mounted on
</span></span><span style=display:flex><span>/dev/sda1 65536 65536 0 100% /boo
</span></span></code></pre></div><p>范例：删除大文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>[root<span style=color:#960050;background-color:#1e0010>@</span>centos8 <span style=color:#f92672>~</span>]<span style=color:#75715e>#cat /dev/null &gt; /var/log/huge.log</span>
</span></span></code></pre></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://github.com/user-attachments/assets/46d81cf5-a098-459a-8998-f5a767db4406 alt=正确删除大文件方法></p><h2 id=硬hard链接>硬（hard）链接
<a class=header-anchor href=#%e7%a1%achard%e9%93%be%e6%8e%a5></a></h2><p>硬链接本质上就给一个文件起一个新的名称，实质是同一个文件
硬链接特性</p><ul><li>创建硬链接会在对应的目录中增加额外的记录项以引用文件</li><li>对应于同一文件系统上一个物理文件</li><li>每个目录引用相同的inode号</li><li>创建时链接数递增</li><li>删除文件时：rm命令递减计数的链接，文件要存在，至少有一个链接数，* 当链接数为零时，该文
件被删除</li><li>不能跨越驱动器或分区</li><li>不支持对目录创建硬链接</li></ul><p>格式：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>ln filename [linkname ]
</span></span></code></pre></div><h2 id=符号-symbolic-或软-soft链接>符号 symbolic （或软 soft）链接
<a class=header-anchor href=#%e7%ac%a6%e5%8f%b7-symbolic-%e6%88%96%e8%bd%af-soft%e9%93%be%e6%8e%a5></a></h2><p>一个符号链接指向另一个文件,就像 windows 中快捷方式，软链接文件和原文件本质上不是同一个文件
软链接特点</p><ul><li>一个符号链接的内容是它引用文件的名称</li><li>可以对目录创建软链接</li><li>可以跨分区的文件实现</li><li>指向的是另一个文件的路径；其大小为指向的路径字符串的长度；不增加或减少目标文件inode的引用计数</li><li>在创建软链接时, 如果源文件使用相对路径，是相对于软链接文件的路径，而非相对于当前工作目
录,但是软链接的路径如果是相对路径,则是相对于当前工作目录<br>格式：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>ln -s filename [linkname]
</span></span></code></pre></div><p>范例: 查看软链接</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[root@ubuntu1804 ~]#ll /bin/sh
</span></span><span style=display:flex><span>lrwxrwxrwx 1 root root 4 Nov 1 02:16 /bin/sh -&gt; dash*
</span></span><span style=display:flex><span>root@ubuntu2004:~# ll /bin/sh
</span></span><span style=display:flex><span>lrwxrwxrwx 1 root root 4 Apr 23 2020 /bin/sh -&gt; dash*
</span></span><span style=display:flex><span>[root@centos8 ~]#ll /bin/sh
</span></span><span style=display:flex><span>lrwxrwxrwx. 1 root root 4 Jul 22 2020 /bin/sh -&gt; bash
</span></span><span style=display:flex><span>[root@centos7 ~]#ll /bin/sh
</span></span><span style=display:flex><span>lrwxrwxrwx. 1 root root 4 Mar 14 10:46 /bin/sh -&gt; bash
</span></span></code></pre></div><p>范例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>#绝对路径
</span></span><span style=display:flex><span>ln -s /data/dir /data/dirlink
</span></span><span style=display:flex><span>#相对路径
</span></span><span style=display:flex><span>cd /data
</span></span><span style=display:flex><span>ln -s ../data/dir /root/dirlink
</span></span><span style=display:flex><span>#查看链接文件指向的原文件
</span></span><span style=display:flex><span>readlink /data/dirlink
</span></span><span style=display:flex><span>[root@centos8 ~]#readlink /proc/$$/exe
</span></span><span style=display:flex><span>/usr/bin/bash
</span></span></code></pre></div><p><strong>范例: 删除软链接时姿势不对造成的生产事故</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>rm -rf /data/dirlink #只删除软链接本身,不会删除源目录内容
</span></span><span style=display:flex><span>rm -rf /data/dirlink/ #删除源目录的文件,但不会删除链接文件,此方法非常危险
</span></span><span style=display:flex><span>#注意: 删除此软链接务必不要加-r选项
</span></span></code></pre></div><h2 id=硬链接和软链接区别总结>硬链接和软链接区别总结
<a class=header-anchor href=#%e7%a1%ac%e9%93%be%e6%8e%a5%e5%92%8c%e8%bd%af%e9%93%be%e6%8e%a5%e5%8c%ba%e5%88%ab%e6%80%bb%e7%bb%93></a></h2><ol><li>本质：<br>硬链接：本质是同一个文件<br>软链接：本质不是同一个文件</li><li>跨设备<br>硬链接：不支持<br>软链接：支持</li><li>inode<br>硬链接：相同<br>软链接：不同</li><li>链接数<br>硬链接：创建新的硬链接,链接数会增加,删除硬链接,链接数减少<br>软链接：创建或删除,链接数不会变化</li><li>文件夹<br>硬链接：不支持<br>软链接：支持</li><li>相对路径<br>硬链接：原始文件相对路径是相对于当前工作目录<br>软链接：原始文件的相对路径是相对于链接文件的相对路径</li><li>删除源文件<br>硬链接：只是链接数减一,但链接文件的访问不受影响<br>软链接：链接文件将无法访问</li><li>文件类型<br>硬链接：和源文件相同<br>软链接：链接文件,和源文件无关</li><li>文件大小<br>硬链接: 和源文件相同<br>软链接: 源文件的路径的长度</li></ol><h2 id=补充linux文件类型颜色详解>补充：Linux文件类型颜色详解
<a class=header-anchor href=#%e8%a1%a5%e5%85%85linux%e6%96%87%e4%bb%b6%e7%b1%bb%e5%9e%8b%e9%a2%9c%e8%89%b2%e8%af%a6%e8%a7%a3></a></h2><p><strong><a href=https://blog.csdn.net/rong09_13/article/details/79233956 title=Linux下七种文件类型、文件属性及其查看方法 rel="noopener external nofollow noreferrer" target=_blank class=exturl>Linux下七种文件类型、文件属性及其查看方法
<i class="fa fa-external-link-alt"></i></a></strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>浅蓝色	[l]	软链接
</span></span><span style=display:flex><span>白色		[-]	普通文件/硬链接
</span></span><span style=display:flex><span>蓝色		[d] 目录
</span></span><span style=display:flex><span>红色 	[l]	某文件被删除后，链接到该文件的软链接的颜色
</span></span><span style=display:flex><span>红色闪烁  无  表示该文件已被删除，但还存在该文件的软链接
</span></span><span style=display:flex><span>红色 	[-] 压缩包
</span></span><span style=display:flex><span>黄色 	[c] 字符设备文件，如键盘鼠标
</span></span><span style=display:flex><span>绿色 	[-] 可执行文件，可执行的程序 
</span></span><span style=display:flex><span>桃红色	[s] 套接字文件
</span></span><span style=display:flex><span>土黄色   [p] 管道文件
</span></span><span style=display:flex><span>灰色文件		表示其它文件
</span></span></code></pre></div><p><img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux03/01.png alt=1>
<img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux03/02.png alt=1>
<img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux03/03.png alt=1>
<img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux03/04.png alt=1>
<img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux03/05.png alt=1>
<img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux03/06.png alt=1>
<img src=/imgs/img-lazy-loading.gif data-src=/images/url/linux/linux03/07.png alt=1></p></div><footer class=post-footer><div class=post-tags><a href=/tags/linux>linux</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=reward-container><div><i class="fa-solid fa-mug-hot"></i>请我喝杯咖啡吧 ヾ(^▽^*)))</div><button>
赞赏</button><div class=post-reward><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/_ali-pay.png alt="蓝惠の小窝 - 支付宝">
<span>支付宝</span></div><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/_wechat-pay.png alt="蓝惠の小窝 - 微信">
<span>微信</span></div></div></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=/images/wechat_channel.jpg><span class=icon><i class="fab fa-weixin"></i>
</span><span class=label>WeChat</span></a></div><div class=social-item><a target=_blank class=social-link href=/rss.xml><span class=icon><i class="fa fa-rss"></i>
</span><span class=label>RSS</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/linux04/ rel=next title=Linux中重定向和用户组管理6.1><i class="fa fa-chevron-left"></i> Linux中重定向和用户组管理6.1</a></div><div class="post-nav-prev post-nav-item"><a href=/post/linux02/ rel=prev title=Linux中的shell和基础命令4.2>Linux中的shell和基础命令4.2
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=giscus-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div id=gtranslate class=google-translate><i class="fa fa-language"></i><div id=google_translate_element></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2019 - 2024
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>蓝惠の小窝</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.126.1 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>湘ICP备20000440号</a>
<img src=/imgs/gongan.png alt=湘公网安备>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011402019770" target=_blank>湘公网安备 31011402019770 号</a></div><div class=vendors-list><a target=_blank href title><img src=/imgs/img-lazy-loading.gif data-src alt>
</a><a target=_blank href title><img src=/imgs/img-lazy-loading.gif data-src alt>
</a><a target=_blank href title></a><span></span></div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script><script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#0cd2f8","enable":true,"save":"manual"},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Announcements","categoryid":"DIC_kwDOL_1gUs4Cfkpa","emit":"url","inputposition":"top","mapping":"top","reactions":true,"repo":"lanhui672/lanhui672.Giscus","repoid":"R_kgDOL_1gUg","theme":"cobalt\n\nlang=\"zh-CN\""},"js":"https://giscus.app/client.js"},"hostname":"http://localhost:1313/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":false,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"right","width":256},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.5.3"}</script><script type=text/javascript src=/js/main.js defer></script></body></html>